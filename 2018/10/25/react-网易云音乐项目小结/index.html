<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="javascript," />










<meta name="description" content="学习搭建一个网易云音乐的项目采用的技术框架 react 视图层框架 bable js转译 webpack 打包 axios 网络通讯 dvaJs model层框架 网易云音乐api  项目步骤babel 配置项目中使用到了最新的特性,所以针对性的配置了 babel123456789101112131415package.json&quot;devDependencies&quot;: &amp;#123;    &quot;@babe">
<meta name="keywords" content="javascript">
<meta property="og:type" content="article">
<meta property="og:title" content="react 网易云音乐项目小结">
<meta property="og:url" content="http://yoursite.com/2018/10/25/react-网易云音乐项目小结/index.html">
<meta property="og:site_name" content="beilo 技术小屋">
<meta property="og:description" content="学习搭建一个网易云音乐的项目采用的技术框架 react 视图层框架 bable js转译 webpack 打包 axios 网络通讯 dvaJs model层框架 网易云音乐api  项目步骤babel 配置项目中使用到了最新的特性,所以针对性的配置了 babel123456789101112131415package.json&quot;devDependencies&quot;: &amp;#123;    &quot;@babe">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-10-25T06:31:22.985Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="react 网易云音乐项目小结">
<meta name="twitter:description" content="学习搭建一个网易云音乐的项目采用的技术框架 react 视图层框架 bable js转译 webpack 打包 axios 网络通讯 dvaJs model层框架 网易云音乐api  项目步骤babel 配置项目中使用到了最新的特性,所以针对性的配置了 babel123456789101112131415package.json&quot;devDependencies&quot;: &amp;#123;    &quot;@babe">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/10/25/react-网易云音乐项目小结/"/>





  <title>react 网易云音乐项目小结 | beilo 技术小屋</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">beilo 技术小屋</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/25/react-网易云音乐项目小结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="beilo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="beilo 技术小屋">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">react 网易云音乐项目小结</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-25T10:56:34+08:00">
                2018-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="学习搭建一个网易云音乐的项目"><a href="#学习搭建一个网易云音乐的项目" class="headerlink" title="学习搭建一个网易云音乐的项目"></a>学习搭建一个网易云音乐的项目</h1><h2 id="采用的技术框架"><a href="#采用的技术框架" class="headerlink" title="采用的技术框架"></a>采用的技术框架</h2><ul>
<li>react 视图层框架</li>
<li>bable js转译</li>
<li>webpack 打包</li>
<li>axios 网络通讯</li>
<li>dvaJs model层框架</li>
<li><a href="https://github.com/Binaryify/NeteaseCloudMusicApi" target="_blank" rel="noopener">网易云音乐api</a></li>
</ul>
<h2 id="项目步骤"><a href="#项目步骤" class="headerlink" title="项目步骤"></a>项目步骤</h2><h4 id="babel-配置"><a href="#babel-配置" class="headerlink" title="babel 配置"></a>babel 配置</h4><p>项目中使用到了最新的特性,所以针对性的配置了 <code>babel</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package.json</span><br><span class="line"></span><br><span class="line"><span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"@babel/core"</span>: <span class="string">"^7.1.2"</span>,</span><br><span class="line">    <span class="string">"@babel/plugin-proposal-class-properties"</span>: <span class="string">"^7.1.0"</span>, <span class="comment">// 支持静态属性</span></span><br><span class="line">    <span class="string">"@babel/plugin-proposal-decorators"</span>: <span class="string">"^7.1.2"</span>, <span class="comment">//支持装饰器</span></span><br><span class="line">    <span class="string">"@babel/plugin-transform-runtime"</span>: <span class="string">"^7.1.0"</span>,  <span class="comment">//供编译模块复用工具函数</span></span><br><span class="line">    <span class="string">"@babel/preset-env"</span>: <span class="string">"^7.1.0"</span>, <span class="comment">//转译所有</span></span><br><span class="line">    <span class="string">"@babel/preset-react"</span>: <span class="string">"^7.0.0"</span>, <span class="comment">//转译react代码</span></span><br><span class="line">    <span class="string">"babel-loader"</span>: <span class="string">"^8.0.4"</span>,</span><br><span class="line">    <span class="string">"babel-plugin-import"</span>: <span class="string">"^1.9.1"</span>, <span class="comment">//import 按需加载</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"@babel/runtime"</span>: <span class="string">"^7.1.2"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.babelrc</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [<span class="string">"@babel/preset-env"</span>, <span class="string">"@babel/preset-react"</span>],</span><br><span class="line">    <span class="attr">"plugins"</span>: [</span><br><span class="line">        [<span class="string">"@babel/plugin-proposal-decorators"</span>, &#123;</span><br><span class="line">            <span class="attr">"legacy"</span>: <span class="literal">true</span></span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="string">"@babel/plugin-proposal-class-properties"</span>,</span><br><span class="line">        [</span><br><span class="line">            <span class="string">"@babel/plugin-transform-runtime"</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"corejs"</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">"helpers"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">"regenerator"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">"useESModules"</span>: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="webpack-配置"><a href="#webpack-配置" class="headerlink" title="webpack 配置"></a>webpack 配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">webpack.config.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HtmlWebPackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>); <span class="comment">//复制html并且添加js链接</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>); <span class="comment">//管理路径</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: path.join(__dirname, <span class="string">"src"</span>, <span class="string">"index.jsx"</span>),</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devtool: <span class="string">'source-map'</span>,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">"babel-loader"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                exclude: [</span><br><span class="line">                    path.join(__dirname, <span class="string">'../node_modules'</span>) <span class="comment">// 由于node_modules都是编译过的文件，这里我们不让babel去处理其下面的js文件</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                test: <span class="regexp">/.jsx$/</span>, <span class="comment">//使用loader的目标文件。这里是.jsx</span></span><br><span class="line">                loader: <span class="string">'babel-loader'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">"html-loader"</span></span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: [<span class="string">'style-loader'</span>, &#123;</span><br><span class="line">                    loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                    <span class="comment">// options: &#123;</span></span><br><span class="line">                    <span class="comment">//     modules: true,</span></span><br><span class="line">                    <span class="comment">//     localIdentName: '[path][name]__[local]--[hash:base64:5]'</span></span><br><span class="line">                    <span class="comment">// &#125;</span></span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">"style-loader"</span> <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                    <span class="comment">// options: &#123;</span></span><br><span class="line">                    <span class="comment">//     modules: true,</span></span><br><span class="line">                    <span class="comment">//     localIdentName: '[path][name]__[local]--[hash:base64:5]'</span></span><br><span class="line">                    <span class="comment">// &#125; // translates CSS into CommonJS</span></span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: <span class="string">"less-loader"</span> <span class="comment">// compiles Less to CSS</span></span><br><span class="line">                &#125;],</span><br><span class="line">                include: [</span><br><span class="line">                    path.resolve(__dirname, <span class="string">"node_modules"</span>, <span class="string">"antd"</span>),</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(png|jpg|gif|woff|woff2|eot|ttf|svg)$/i</span>,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        limit: <span class="number">100000</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebPackPlugin(&#123;</span><br><span class="line">            template: path.join(__dirname, <span class="string">"src"</span>, <span class="string">"index.html"</span>),</span><br><span class="line">            filename: path.join(__dirname, <span class="string">"dist"</span>, <span class="string">"index.html"</span>)</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">    ],</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        port: <span class="number">4954</span>,</span><br><span class="line">        contentBase: <span class="string">"./dist"</span>,</span><br><span class="line">        historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">        hot: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="index-jsx-入口文件"><a href="#index-jsx-入口文件" class="headerlink" title="index.jsx 入口文件"></a>index.jsx 入口文件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">index.jsx</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> dva <span class="keyword">from</span> <span class="string">"dva"</span>;</span><br><span class="line"><span class="keyword">import</span> routers <span class="keyword">from</span> <span class="string">'./config/Routers'</span></span><br><span class="line"><span class="keyword">import</span> history <span class="keyword">from</span> <span class="string">'./config/History'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// model</span></span><br><span class="line"><span class="keyword">import</span> BaseModel <span class="keyword">from</span> <span class="string">'./model/BaseModel'</span>;</span><br><span class="line"><span class="keyword">import</span> LoginModel <span class="keyword">from</span> <span class="string">'./model/LoginModel'</span></span><br><span class="line"><span class="keyword">import</span> SongListModel <span class="keyword">from</span> <span class="string">'./model/SongListModel'</span>;</span><br><span class="line"><span class="keyword">import</span> PlayListDetailModel <span class="keyword">from</span> <span class="string">'./model/PlayListDetailModel'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = dva(&#123;</span><br><span class="line">    history: history, <span class="comment">//自定义history,可以去除url上的_k和#之类的符号</span></span><br><span class="line">    onError(error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(error.stack); <span class="comment">//同意的error处理</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入model层</span></span><br><span class="line">app.model(LoginModel)</span><br><span class="line">app.model(SongListModel)</span><br><span class="line">app.model(PlayListDetailModel)</span><br><span class="line">app.model(BaseModel)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入router</span></span><br><span class="line">app.router(routers)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义些全局变量</span></span><br><span class="line"><span class="built_in">window</span>.App_ = &#123;</span><br><span class="line">    history: history,</span><br><span class="line">    dva: app</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动,在class="root"</span></span><br><span class="line">app.start(<span class="string">"#root"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack service配置</span></span><br><span class="line"><span class="built_in">module</span>.hot.accept();</span><br></pre></td></tr></table></figure>
<h4 id="History-js"><a href="#History-js" class="headerlink" title="History.js"></a>History.js</h4><p><a href="https://github.com/brickspert/blog/issues/3" target="_blank" rel="noopener">History和Routers请参考</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">History.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> createHistory <span class="keyword">from</span> <span class="string">'history/createBrowserHistory'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createHistory();</span><br></pre></td></tr></table></figure>
<h4 id="Routers-jsx"><a href="#Routers-jsx" class="headerlink" title="Routers.jsx"></a>Routers.jsx</h4><p>由于<code>router-v4</code>把<code>&lt;Route/&gt;</code>组件化,所以<code>router-v3</code>那种配置便不可用了.在<code>v4</code>中<code>&lt;Router/&gt;</code>可以当做子组件使用,具体参考<code>BaseLayout.jsx</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Routers.jsx</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Route, Router, Switch &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> BaseLayout <span class="keyword">from</span> <span class="string">'../layout/BaseLayout'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> history <span class="keyword">from</span> <span class="string">'./History'</span>;</span><br><span class="line"><span class="keyword">const</span> routers = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Router history=&#123;history&#125;&gt;</span><br><span class="line">            &lt;Route path=<span class="string">"/"</span> component=&#123;BaseLayout&#125;&gt;</span><br><span class="line">            &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>Router&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> routers</span><br></pre></td></tr></table></figure>
<h4 id="BaseLayout-jsx"><a href="#BaseLayout-jsx" class="headerlink" title="BaseLayout.jsx"></a>BaseLayout.jsx</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BasicLayout</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    push()&#123;</span><br><span class="line">        <span class="comment">// 这是跳转页面的方法,具体使用参考history库</span></span><br><span class="line">        <span class="comment">// App_.history是在index.jsx中定义的全局变量</span></span><br><span class="line">        App_.history.push(<span class="string">"/songList"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;Layout&gt;</span><br><span class="line">                &lt;Header&gt;</span><br><span class="line">                    Header</span><br><span class="line">                &lt;<span class="regexp">/Header&gt;</span></span><br><span class="line"><span class="regexp">                &lt;Content&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;Switch&gt;</span></span><br><span class="line"><span class="regexp">                            &lt;Route path="/</span>login<span class="string">" component=&#123;Login&#125;&gt;&lt;/Route&gt;</span></span><br><span class="line"><span class="string">                            &lt;Route path="</span>/songList<span class="string">" component=&#123;SongList&#125;&gt;&lt;/Route&gt;</span></span><br><span class="line"><span class="string">                            &lt;Route path="</span>/playListDetail<span class="string">" component=&#123;PlayListDetail&#125;&gt;</span></span><br><span class="line"><span class="string">                            &lt;/Route&gt;</span></span><br><span class="line"><span class="string">                        &lt;/Switch&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;/Content&gt;</span></span><br><span class="line"><span class="string">                &lt;Footer style=&#123;&#123; textAlign: 'center', height: "</span><span class="number">150</span>px<span class="string">" &#125;&#125;&gt;</span></span><br><span class="line"><span class="string">                    Footer</span></span><br><span class="line"><span class="string">                &lt;/Footer&gt;</span></span><br><span class="line"><span class="string">            &lt;/Layout&gt;</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="model层案例"><a href="#model层案例" class="headerlink" title="model层案例"></a>model层案例</h4><p><code>namespace</code>是一个作用域,用于你查找对应<code>model</code>的数据:<br>使用<code>dvaJS</code>管理<code>state</code>后,会有一个<code>this.state</code>对象,所有的<code>state</code>都以<code>namespace</code>为<code>key</code>,整合到了<code>this.state</code>中.那么如何获取我对应<code>model</code>的<code>state</code>呢?<br>这个时候只要通过<code>this.state.[namespace]</code>就能获取到对应的<code>state</code>了,比如<code>this.state.songListNamespace</code>就能获取到下面<code>state</code>了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    namespace: <span class="string">"songListNamespace"</span>, </span><br><span class="line">    state: &#123;</span><br><span class="line">        playlist: [],</span><br><span class="line">        loading: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    effects: &#123;</span><br><span class="line">        * getDataList(_, &#123;</span><br><span class="line">            call,</span><br><span class="line">            put,</span><br><span class="line">            select</span><br><span class="line">        &#125;) &#123;</span><br><span class="line">            <span class="comment">// call暂时不知道干嘛的,还没用过</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// select 用于获取state 例如:</span></span><br><span class="line">            <span class="comment">// const loading = yield select(state =&gt; state.songListNamespace.loading) 就是获取loading状态.PS:state是全局的,所以要加上namespace</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 调用接口</span></span><br><span class="line">            <span class="keyword">const</span> response = <span class="keyword">yield</span> RecommendService.songList()</span><br><span class="line">            <span class="keyword">const</span> data = response.result</span><br><span class="line">            <span class="comment">// put 相当于一个动作,目的是调用下面reducers中的addData方法</span></span><br><span class="line">            <span class="keyword">yield</span> put(&#123;</span><br><span class="line">                type: <span class="string">"addData"</span>,</span><br><span class="line">                payload: &#123;</span><br><span class="line">                    data: data</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 展示下怎么传递参数到effects</span></span><br><span class="line">        * pushPlayListDetail(&#123;</span><br><span class="line">            payload <span class="comment">//传递的参数,里面也可以放回调函数,回调到view层</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            put</span><br><span class="line">        &#125;) &#123;</span><br><span class="line">            <span class="comment">// push带参数</span></span><br><span class="line">            App_.history.push(&#123;</span><br><span class="line">                pathname: <span class="string">'/playListDetail'</span>,</span><br><span class="line">                state: &#123;</span><br><span class="line">                    id: payload.id</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    reducers: &#123;</span><br><span class="line">        addData(state, action) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                playlist: action.payload.data</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="上面model对应的view"><a href="#上面model对应的view" class="headerlink" title="上面model对应的view"></a>上面model对应的view</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; List, Avatar, Spin &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">"dva"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 作用域</span></span><br><span class="line"><span class="keyword">const</span> namespace = <span class="string">"songListNamespace"</span></span><br><span class="line"><span class="comment">// 将state 转化为 this.props.songListData PS:只是使用方式上的转化</span></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> songListData = state[namespace]</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        songListData</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义的action,用于调用model中的effects中的方法.PS:需要指明作用域,可以跨域调用,state同理</span></span><br><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        getDataList: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            dispatch(&#123;</span><br><span class="line">                type: <span class="string">`<span class="subst">$&#123;namespace&#125;</span>/getDataList`</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        onPushSongList: <span class="function">(<span class="params">id</span>) =&gt;</span> &#123;</span><br><span class="line">            dispatch(&#123;</span><br><span class="line">                type: <span class="string">`<span class="subst">$&#123;namespace&#125;</span>/pushPlayListDetail`</span>,</span><br><span class="line">                payload: &#123;</span><br><span class="line">                    id, id</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SongList</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        playlist: [],</span><br><span class="line">        loading: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        <span class="comment">// 调用model中的getDataList方法,调用流程如下</span></span><br><span class="line">        <span class="comment">// 当前文件 mapDispatchToProps -&gt; getDataList -&gt; model -&gt; effects -&gt; getDataList</span></span><br><span class="line">        <span class="keyword">this</span>.props.getDataList()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;Spin tip=<span class="string">"加载数据,请稍等..."</span> spinning=&#123;<span class="keyword">this</span>.props.songListData.loading&#125; delay=<span class="string">"500"</span>&gt;</span><br><span class="line">                &lt;List</span><br><span class="line">                    itemLayout=<span class="string">"horizontal"</span></span><br><span class="line">                    dataSource=&#123;<span class="keyword">this</span>.props.songListData.playlist&#125;</span><br><span class="line">                    renderItem=&#123;(item) =&gt; (</span><br><span class="line">                        &lt;List.Item&gt;</span><br><span class="line">                            &lt;List.Item.Meta</span><br><span class="line">                                avatar=&#123;&lt;Avatar src=&#123;item.picUrl&#125; /&gt;&#125;</span><br><span class="line">                                title=&#123;&lt;span</span><br><span class="line">                                    onClick=&#123;() =&gt; &#123;</span><br><span class="line">                                        <span class="keyword">this</span>.props.onPushSongList(item.id)</span><br><span class="line">                                    &#125;&#125;</span><br><span class="line">&gt;&#123;item.name&#125;&lt;<span class="regexp">/span&gt;&#125;</span></span><br><span class="line"><span class="regexp">                                description=&#123;&lt;span&gt;&#123;item.copywriter&#125;&lt;/</span>span&gt;&#125;</span><br><span class="line">                            &gt;</span><br><span class="line">                            &lt;<span class="regexp">/List.Item.Meta&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;/</span>List.Item&gt;</span><br><span class="line">                    )&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;<span class="regexp">/Spin&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 将mapStateToProps,mapDispatchToProps,SongList整合为一个整体</span></span><br><span class="line"><span class="regexp">export default connect(mapStateToProps, mapDispatchToProps)(SongList);</span></span><br></pre></td></tr></table></figure>
<p>const songListData = state[namespace]<br>    return {<br>        songListData<br>    }</p>
<h4 id="connect的方便写法"><a href="#connect的方便写法" class="headerlink" title="connect的方便写法"></a>connect的方便写法</h4><p>下面这种写法要通过<code>ES7</code>的装饰器才可以使用,上面<code>babel</code>中有介绍<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@connect(</span><br><span class="line">    _state =&gt; (&#123;</span><br><span class="line">        songListData: _state[namespace], <span class="comment">// 总的</span></span><br><span class="line">        playlist:_state[namespace].playlist, <span class="comment">//分开的</span></span><br><span class="line">        loading:_state[namespace].loading, <span class="comment">//分开的</span></span><br><span class="line">    &#125;),</span><br><span class="line">    _dispatch =&gt; (&#123;</span><br><span class="line">        getDataList: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            _dispatch(&#123;</span><br><span class="line">                type: <span class="string">`<span class="subst">$&#123;namespace&#125;</span>/getDataList`</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        onPushSongList: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            _dispatch(&#123;</span><br><span class="line">                type: <span class="string">`<span class="subst">$&#123;namespace&#125;</span>/pushPlayListDetail`</span>,</span><br><span class="line">                payload: &#123;</span><br><span class="line">                    id, id</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;))</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SongList</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="comment">//使用</span></span><br><span class="line">    <span class="comment">// this.props.songListData </span></span><br><span class="line">    <span class="comment">// this.props.playlist </span></span><br><span class="line">    <span class="comment">// this.props.loading</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>前端的技术栈有点长,要慢慢的整理.现在我也只是简单使用,<code>dvaJs</code>更是入门.<br>接下来还有<code>react</code>的<code>PureComponent</code>,<code>无状态组件</code>,<code>生命周期</code>等等.<br><code>dva</code>的话还要了解<code>react-router/react-saga/react-redux</code>,等等.学习的路还很长啊.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/javascript/" rel="tag"># javascript</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/19/LeakCanary-理解/" rel="next" title="LeakCanary 理解">
                <i class="fa fa-chevron-left"></i> LeakCanary 理解
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/25/UETool源码分析/" rel="prev" title="react 网易云音乐项目小结">
                react 网易云音乐项目小结 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">beilo</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#学习搭建一个网易云音乐的项目"><span class="nav-number">1.</span> <span class="nav-text">学习搭建一个网易云音乐的项目</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#采用的技术框架"><span class="nav-number">1.1.</span> <span class="nav-text">采用的技术框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目步骤"><span class="nav-number">1.2.</span> <span class="nav-text">项目步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#babel-配置"><span class="nav-number">1.2.0.1.</span> <span class="nav-text">babel 配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#webpack-配置"><span class="nav-number">1.2.0.2.</span> <span class="nav-text">webpack 配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#index-jsx-入口文件"><span class="nav-number">1.2.0.3.</span> <span class="nav-text">index.jsx 入口文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#History-js"><span class="nav-number">1.2.0.4.</span> <span class="nav-text">History.js</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Routers-jsx"><span class="nav-number">1.2.0.5.</span> <span class="nav-text">Routers.jsx</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BaseLayout-jsx"><span class="nav-number">1.2.0.6.</span> <span class="nav-text">BaseLayout.jsx</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#model层案例"><span class="nav-number">1.2.0.7.</span> <span class="nav-text">model层案例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#上面model对应的view"><span class="nav-number">1.2.0.8.</span> <span class="nav-text">上面model对应的view</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#connect的方便写法"><span class="nav-number">1.2.0.9.</span> <span class="nav-text">connect的方便写法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">1.3.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">beilo</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
